### 🛠️ **관전 설정 명령어 (`/관전설정`)**

**"크라임씬에서 관전 역할을 설정하고 자동 배정하세요!"**

---

## 🎯 **기능 소개**

`/관전설정` 명령어는 **크라임씬 진행자**가 **관전 역할**을 설정하여,  
✅ **투표가 종료되었을 때 자동으로 관전 역할을 부여**하고  
✅ **관전자들이 `/관전` 명령어를 사용하여 참가할 때 자동으로 역할을 받을 수 있도록 설정**하는 기능입니다.

**🗳️ 투표 종료 후 자동 관전 기능**

-   **투표 종료 시, 투표에 참여했던 모든 유저가 자동으로 설정된 관전 역할을 부여받습니다.**
-   **진행자가 `/관전설정` 명령어로 설정한 역할이 적용됩니다.**
-   **자동으로 닉네임이 변경되어 `[관전] 홍길동` 형식으로 설정됩니다.**

🚨 **⚠️ 설정이 되어 있지 않으면 해당 기능은 작동하지 않습니다.**  
🚨 **⚠️ 반드시 `/관전설정` 명령어로 역할을 설정한 후 사용해야 합니다.**

---

## 📝 **명령어 사용법**

### 🔹 **관전 역할 설정하기**

**명령어:**

```
/관전설정 수식어:[수식어] 권한:[역할 선택]
```

**예제:**

```
/관전설정 수식어:[관전] 권한:@Observer
```

**설명:**

-   `수식어` : **관전자 닉네임 앞에 붙는 텍스트** (예: `[관전] 홍길동`)
-   `권한` : **관전자로 지정할 역할** (서버에서 직접 역할 선택)

✅ **설정 후 관전 역할이 자동 적용됩니다.**  
✅ **`/관전` 명령어를 통해 사용자가 직접 요청하면 자동으로 역할이 부여됩니다.**  
✅ **투표 종료 후, 투표에 참여했던 모든 유저가 자동으로 관전 역할을 부여받습니다.**

🚨 **⚠️ `/관전설정` 명령어를 사용하지 않으면 이 기능은 작동하지 않습니다.**  
🚨 **⚠️ 설정된 역할이 없으면 투표 종료 후에도 관전 역할이 자동으로 부여되지 않습니다.**

---

## 🎭 **자동 역할 부여 시스템**

### 🔹 **관전자로 자동 배정하기**

✅ `/관전` 명령어를 통해 관전자로 참가한 유저는 자동으로 설정된 **관전 역할**을 부여받습니다.

✅ **자동 변경 사항**

-   **설정된 역할이 부여됨** (예: `@Observer` 역할 추가)
-   **닉네임이 자동 변경됨**
    -   예: `홍길동` → `[관전] 홍길동`

🚨 **⚠️ `/관전설정`을 하지 않으면 `/관전` 명령어를 사용해도 역할이 자동으로 부여되지 않습니다.**

---

## 🗳️ **투표 종료 후 자동 관전 배정**

**✅ 투표가 종료되면, 투표했던 모든 유저가 자동으로 관전 역할을 부여받습니다.**

-   **투표 종료 버튼을 누르면 자동으로 역할이 부여됨**
-   **진행자가 설정한 관전 역할이 적용됨**
-   **자동으로 닉네임이 변경됨**

🚨 **⚠️ `/관전설정`을 하지 않으면, 투표 종료 후에도 아무 역할도 부여되지 않습니다.**

**예제:**

**투표 종료 전**

```
홍길동 (투표 참여 중)
김철수 (투표 참여 중)
이영희 (투표 참여 중)
```

**투표 종료 후**

```
[관전] 홍길동
[관전] 김철수
[관전] 이영희
```

✅ **관전 역할이 부여된 유저는 더 이상 게임에 영향을 주지 않음.**  
✅ **자동으로 게임과 구분되어 관전자로 역할이 정리됨.**

🚨 **⚠️ `/관전설정`이 되어 있지 않으면, 투표 종료 후에도 역할이 변경되지 않습니다.**

---

## ⚙️ **관전 역할 설정 프로세스**

1️⃣ `/관전설정` 명령어를 사용하여 **관전 역할과 닉네임 수식어 설정**  
2️⃣ `/관전` 명령어를 통해 사용자가 관전자로 참가 요청  
3️⃣ **봇이 자동으로 해당 역할을 부여하고 닉네임을 변경**  
4️⃣ **투표가 종료되면, 모든 투표 참가자는 자동으로 관전 역할을 부여받음**

🚨 **⚠️ `/관전설정`을 하지 않으면 이 모든 과정이 실행되지 않습니다.**

✅ **관전자가 나중에 서버에 다시 접속해도 역할이 유지됩니다.**

---

## 📌 **주의 사항**

1️⃣ **관전 역할을 변경하려면 `/관전설정` 명령어를 다시 입력해야 합니다.**  
2️⃣ **서버 내에서 관전 역할이 정상적으로 생성되어 있어야 합니다.**  
3️⃣ **관전자는 게임에 직접 참여할 수 없으며, 투표 등 특정 기능만 사용할 수 있습니다.**  
4️⃣ **이 설정은 진행자만 사용할 수 있습니다.** (`관리자 권한 필요`)  
5️⃣ **투표 종료 버튼을 누르면, 투표했던 모든 유저가 자동으로 관전 역할을 받습니다.**  
6️⃣ **🚨 `/관전설정`을 하지 않으면 자동 관전 기능이 작동하지 않습니다.**

---

## 💡 **예제 시나리오**

**👥 크라임씬 진행 중, 관전자로 참가하고 싶은 유저가 있음**

1️⃣ 진행자가 `/관전설정` 명령어로 **관전 역할 설정**

```
/관전설정 수식어:[관전] 권한:@Observer
```

2️⃣ 관전 희망자가 `/관전` 명령어를 입력

```
/관전 길드:디스코드서버이름
```

3️⃣ **봇이 자동으로 역할을 부여하고 닉네임을 변경**

-   `홍길동` → `[관전] 홍길동`
-   `@Observer` 역할 자동 추가

4️⃣ **게임이 진행되고, 투표가 완료됨**  
5️⃣ **투표 종료 버튼을 누르면, 투표했던 유저들은 자동으로 `[관전]` 역할을 부여받음**  
6️⃣ **투표 종료 후, 관전자로 분리되어 게임에 영향을 주지 않음**

🚨 **⚠️ `/관전설정`이 되어 있지 않으면, 위 과정이 실행되지 않습니다.**

---

> **💡 팁:**
>
> -   `/관전설정`으로 설정된 역할은 `/관전` 명령어를 통해 자동 적용됩니다.
> -   설정된 수식어는 **닉네임 앞에 자동으로 추가됩니다.**
> -   특정 유저에게만 수동으로 관전 역할을 부여하고 싶다면 진행자가 직접 역할을 부여하세요!
> -   **투표 종료 후, 투표했던 모든 유저는 자동으로 관전 역할을 받습니다.**
> -   🚨 **⚠️ `/관전설정`이 되어 있지 않으면 이 기능은 작동하지 않습니다.**

---

이제 **관전 역할을 설정하고 크라임씬을 더욱 효율적으로 운영해보세요!** 🕵️🔍
